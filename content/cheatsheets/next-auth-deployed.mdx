---
title: Next-auth with NextJs 13 for deployed site.
description: Cheat-sheet for using next-auth with NextJs 13 for your deployed website.
date: 2023-05-22
by: Trace
---

<Callout>

For the complete guide check [Next-auth with NextJs 13](https://faq-codewithantonio.vercel.app/guides/using-next-auth-next-13)

</Callout>

<Callout>

IMPORTANT: While writing this cheat sheet I am using "next-auth": "^4.22.1", "@next-auth/prisma-adapter": "^1.0.6", "@prisma/client": "^4.13.0", "bcrypt": "^5.1.0", "next": "13.4.1", "prisma": "^4.13.0", "axios": "^1.3.6", and "@types/bcrypt": "^5.0.0".

</Callout>

<Callout>

IMPORTANT: This cheat-sheet is based on CodewithAntonio's [Messenger Clone video](https://www.youtube.com/watch?v=PGPGcKBpAk8&t=4874s). But it should work on any application where you are using NextJS, next-auth and Prisma.

</Callout>

## Getting Started

This cheat sheet will guide you through the setup process for a deployed site, assuming that next-auth is already functional on your local development server.

## Social Login on Deployed Site

After your deploy your website, your credentials might be working fine but the social login functionality might not be working. To fix that we have to do as following.

### Github Login on Deployed Site

Go back to your github account --> Settings --> Developer Settings --> OAuth App --> Choose the app --> (Application Form should show up) --> Change Homepage URL and Authorization callback URL to your deployed Url --> Click on "Update Application"

### Google Login on Deployed Site

Go to your google cloud platform --> APIs & Services --> Credentials --> Web Client 1 (or the name you choose).

<Image
  src="/images/guides/googledeploy.jpg"
  width="700"
  height="700"
  alt="Image"
/>

A form should appear where previously we added the Authorized redirect URI, we will need to change that URI from http://localhost:3000 to out deployed website url.

<Callout>

Before: http://localhost:3000/api/auth/callback/google

After: https://YOUR_DOMAIN_URL/api/auth/callback/google

</Callout>

<Callout>

Common Problem: Make sure there is no double // before api. The problem might occur when you copy and paste your domain url.

Video: [8:48:00](https://www.youtube.com/watch?v=PGPGcKBpAk8&t=4874s)

</Callout>

Then add your domain url on "Authorized JavaScript origins", previously we did not add anything out there.

<Callout>

Important Note: While pasting your domain Url on Authorized JavaScript origins, make sure you remove the last '/'

Expected: https://YOUR_DOMAIN_URL

> WRONG: https://YOUR_DOMAIN_URL/

</Callout>

Then click on the "Save" button and you should be done.

<Callout>

Important Note: This google update might take some time.

When I did this it took around 2hr to update.

Just above the "Save Button" Google do have a note which states "Note: It may take 5 minutes to a few hours for settings to take effect"

</Callout>

I hope this cheat-sheet helped you. If you have more questions feel free to ask in the discord channel.

Happy Hacking...
